# 📝 학습 목표

---

1. **`QueryParameter`**를 활용하여, 검색 기능을 구현해봅니다.
2. **`Debounce`**와 **`Throttling`**이 무엇인지 알아보고, 이를 실제 프로젝트에 적용해봅니다.
3. **`useContext`**를 활용하여, 전역 상태 관리를 하는 이유와, 기존 코드 리팩토링을 진행해봅니다.
4. **`AccessToken`**과 **`RefreshToken`**을 활용한 로그인 방식에 대해 학습합니다.

# ⚠️  스터디 진행 방법

---

1. 스터디를 진행하기 전, 워크북 내용들을 모두 채우고 스터디에서 서로 모르는 내용들을 스터디원과 함께 공유해 주세요.
2. 실습과 미션은 워크북 내용들을 모두 완료한 후, 스터디 전에 진행해 오세요!
    - 1주 차 스터디 이전에 1주 차 워크북을 완성한 후 스터디를 진행해 주세요.
3. 스터디 시간에는 각자 해 온 미션들을 공유하고, 아래의 과정을 진행합니다.
    1. 스터디원과 함께 코드 리뷰 진행.
    2. 코드 리뷰 이후, 본인의 코드의 문제가 있는 경우 리팩토링 진행.
    3. 팀원들과, 조금 더 코드를 깔끔하게 작성할 수 있는 개선점이 있을지 고민 후, 리팩토링 진행.
    4. 각자 미션을 진행하면서 해결하지 못한 이슈를 공유 후, 해당 이슈를 도움받아 해결.
4. 매주 주어진 미션을 성실하게 제출합니다.
5. 🍠 이모지가 붙어있는 곳은, 직접 여러분들이 채워 넣으셔야 하는 부분입니다. 꼭 Google을 통한 검색을 하시고, VSCode를 활용하여, 실행 결과를 눈으로 보시면서 정리해 주세요!

# 📸 잠깐 ! 스터디 인증샷은 찍으셨나요?📸

---

* 스터디리더께서 대표로 매 주차마다 한 장 남겨주시면 좋겠습니다!🙆💗
 (사진을 저장해서 이미지 임베드를 하셔도 좋고, 복사+붙여넣기해서 넣어주셔도 좋습니다!)

[]()

# 🎯 핵심 키워드

---

<aside>
💡 주요 내용들에 대해 조사해보고, 자신만의 생각을 통해 정리해보세요!
레퍼런스를 참고하여 정의, 속성, 장단점 등을 적어주셔도 됩니다.
조사는 공식 홈페이지 **Best**, 블로그(최신 날짜) **Not Bad**

</aside>

### 키워드 정리 🍠

- Debounce & Throttling 🍠
    - Debounce는 무엇일까요?
        
        **Debounce**는 연속해서 발생하는 이벤트가 끝난 후 일정 시간 동안 추가 이벤트가 발생하지 않으면 최종 이벤트를 한 번 실행하도록 하는 기법입니다. 즉, **마지막 이벤트 이후 일정 시간이 지나야만 함수가 호출됩니다**.
        
    - Debounce는 주로 어디에 사용하나요?
        - **검색 입력**: 사용자가 입력할 때마다 API 요청을 보내는 경우 요청이 너무 많아질 수 있습니다. 따라서, 입력이 멈추고 일정 시간 후에 최종 검색 요청을 보내도록 Debounce를 사용하면 불필요한 요청을 줄일 수 있습니다.
        - **폼 입력 유효성 검사**: 사용자가 실시간으로 입력을 수정할 때마다 유효성을 검증하는 대신, 입력이 완료된 후에만 검증하도록 할 때 유용합니다.
        - **윈도우 리사이즈 이벤트**: 사용자가 브라우저 창을 조정할 때 발생하는 연속된 리사이즈 이벤트를 마지막 위치에서 한 번만 처리하고자 할 때 사용됩니다.
    - Throttling은 무엇일까요?
        
        **Throttling**은 일정 시간 간격마다 한 번씩만 함수를 호출하도록 제한하는 기법입니다. **이벤트가 연속해서 발생하더라도, 설정한 시간 간격에 따라 함수가 실행됩니다.**
        
    - Throttling은 주로 어디에 사용하나요?
        - **스크롤 이벤트**: 사용자가 페이지를 스크롤할 때 이벤트가 매우 빈번하게 발생하므로, 스크롤 이벤트를 일정 간격마다 한 번씩만 처리하도록 할 때 Throttling을 사용합니다.
        - **무한 스크롤**: 사용자가 페이지 하단에 도달할 때 새로운 데이터를 로드하는 경우, 매번 로드하는 것이 아닌 일정 간격으로만 로드하여 성능을 최적화할 수 있습니다.
        - **버튼 클릭 방지**: 특정 버튼을 너무 자주 누를 때 의도하지 않은 결과를 방지하기 위해 일정 간격으로만 버튼이 반응하도록 할 수 있습니다.
    - Debounce와 Throttling의 차이점은 무엇일까요?
        - **Debounce**는 마지막 이벤트가 발생한 후 일정 시간이 지나야만 함수가 실행됩니다. 즉, 여러 번의 이벤트 중 **최종 이벤트**를 기준으로 딜레이를 주어 최종적으로 한 번만 호출됩니다.
        - **Throttling**은 일정 시간 간격마다 한 번씩만 함수를 실행합니다. 즉, 이벤트가 지속해서 발생하더라도 설정한 시간마다 **주기적으로 실행**되며, 지정된 간격 내에는 이벤트가 무시됩니다.
    - 어떤 기능을 구현할 때 Debounce를 적용하고, Throttling을 적용하는 것이 좋을까요?
        - **Debounce 적용**: 사용자가 입력을 멈춘 후에만 요청을 보내는 것이 좋을 때 사용합니다. 예를 들어, **검색 자동 완성**과 같이 이벤트가 많지만, 마지막 이벤트만 처리하면 될 때 주로 사용합니다.
        - **Throttling 적용**: 사용자가 페이지를 스크롤하거나 특정 이벤트가 연속해서 발생해도 일정 간격마다만 이벤트를 처리해도 무방할 때 적용합니다. 예를 들어, **스크롤 이벤트 처리**와 같이 계속해서 발생하는 이벤트를 정해진 간격마다 처리할 때 유용합니다.
- 쿠키 🍠
    - 쿠키란 무엇이고, 어떤 특징을 가지고 있을까요?
        - **쿠키**는 클라이언트의 웹 브라우저에 저장되는 작은 데이터 조각으로, 주로 **사용자 세션 정보**를 유지하기 위해 사용됩니다. 쿠키는 서버가 생성하여 브라우저에 전달하며, 브라우저는 해당 사이트에 다시 접속할 때 이 쿠키를 서버에 함께 전송하여 사용자의 이전 상태나 정보를 유지하게 됩니다.
        - **특징**
            - 유효 기간 설정이 가능하여 세션 쿠키(브라우저가 닫히면 삭제) 또는 지속 쿠키(특정 시간 동안 저장)로 사용할 수 있습니다.
            - 기본적으로 클라이언트의 브라우저에 저장되므로 **보안**과 **크기 제한(4KB)**이 있습니다.
            - `HttpOnly`, `Secure`, `SameSite` 등의 속성을 통해 보안성을 강화할 수 있습니다.
    - 쿠키를 어떻게 사용할 수 있을까요?
        - **로그인 세션 관리**: 사용자가 로그인하면 서버에서 세션 정보를 쿠키로 저장하여, 다음 접속 시 로그인을 유지합니다.
        - **사용자 설정 유지**: 테마나 언어 설정과 같은 사용자 환경을 기억하는 데 쿠키를 사용할 수 있습니다.
        - **추적 및 광고**: 사용자의 웹사이트 방문 정보를 추적하여 개인화된 광고를 제공합니다.
- 토큰 🍠
    - 토큰이 왜 필요할까요?
        
        토큰은 **사용자의 인증 정보를 안전하게 전달**하기 위해 사용됩니다. 특히 비동기적으로 데이터를 주고받는 RESTful API에서는 **상태를 유지하는 세션 관리가 어렵기 때문에** 토큰을 통해 인증 상태를 유지하게 됩니다.
        
    - CORS 에러가 무엇이고, 이 에러를 어떻게 해결할 수 있을까요?
        - **CORS**(Cross-Origin Resource Sharing) 에러는 웹 브라우저가 **다른 출처(도메인)에서 리소스를 요청할 때 발생하는 보안 정책**에 위반된 경우 발생합니다.
        - **해결 방법**: 서버 측에서 특정 출처를 허용하도록 설정하거나, 필요한 경우 **프록시 서버**를 사용하여 같은 출처에서 요청하는 것처럼 처리할 수 있습니다.
    - JWT 토큰 기반 인증 방법이란 무엇일까요?
        
        **JWT (JSON Web Token)**는 JSON 형식으로 인코딩된 데이터가 포함된 토큰입니다. 이 토큰에는 사용자 정보가 포함되어, 추가 요청 시 인증을 반복하지 않고 서버에 사용자 정보를 제공합니다.
        
    - JWT 기반 로그인 동작 과정에 대해 알아보세요.
        - 클라이언트가 로그인 정보를 서버에 전송합니다.
        - 서버는 정보를 검증하고, 검증에 성공하면 JWT 토큰을 발급하여 클라이언트에게 반환합니다.
        - 클라이언트는 서버에서 받은 JWT 토큰을 로컬 스토리지 또는 세션 스토리지에 저장합니다.
        - 이후 클라이언트는 API 요청 시 JWT 토큰을 `Authorization` 헤더에 포함시켜 서버로 전송합니다.
        - 서버는 토큰을 검증하고 요청을 처리합니다.
    - AccessToken / RefreshToken의 차이에 대해 설명해주세요.
        - **Access Token**: 인증된 사용자임을 증명하는 짧은 유효 기간의 토큰입니다. 주로 API 요청 시 사용되며, 만료 시 사용자는 새로운 Access Token을 받아야 합니다.
        - **Refresh Token**: Access Token의 유효 기간이 만료된 경우 새로 발급하기 위해 사용되는 긴 유효 기간의 토큰입니다. 만료된 Access Token을 갱신하여 계속 사용할 수 있게 합니다.
- 웹 스토리지 🍠
    - 웹 스토리지의 메소드와 프로퍼티는 어떤게 있을까요?
        - **웹 스토리지의 주요 메소드**
            - `setItem(key, value)`: 데이터를 저장합니다.
            - `getItem(key)`: 저장된 데이터를 불러옵니다.
            - `removeItem(key)`: 특정 데이터를 삭제합니다.
            - `clear()`: 모든 데이터를 삭제합니다.
        - **웹 스토리지의 주요 프로퍼티**
            - `length`: 저장된 데이터의 개수를 반환합니다.
    - 세션 스토리지에 대해 정리해 주세요!
        
        **세션 스토리지(Session Storage)**는 **현재 세션 동안만 유지되는 데이터 저장소**입니다. 브라우저 창이나 탭이 닫히면 저장된 데이터는 자동으로 삭제됩니다. 각 창이나 탭은 개별 세션을 가지므로 독립적으로 저장됩니다.
        
    - 로컬 스토리지에 대해 정리해 주세요!
        
        **로컬 스토리지(Local Storage)**는 **브라우저에 영구적으로 저장되는 데이터 저장소**입니다. 세션이 종료되어도 데이터가 삭제되지 않으며, 사용자가 수동으로 삭제하거나 코드로 삭제하기 전까지 유지됩니다.
        
    - 로컬 스토리지에서 JWT 토큰을 저장하고, 사용하고, 삭제하는 메소드에 대해 찾아보세요!
        - **저장**: `localStorage.setItem('token', jwtToken)`
        - **사용**: `localStorage.getItem('token')`
        - **삭제**: `localStorage.removeItem('token')`
    - 스토리지가 변경되었을 때 처리하는 방법을 조사해 주세요.
        
        `storage` 이벤트를 사용하여 스토리지에 변화가 생겼을 때 이를 감지하고 특정 처리를 할 수 있습니다. 이벤트 리스너를 통해 다른 탭이나 창에서 일어난 스토리지 변경을 실시간으로 반영할 수 있습니다.
        
    - Bearer Token이 무엇인지 찾아보고, 이를 통해 백엔드 서버와 어떠한 방식으로 통신하는지 조사해 보세요!
        - **Bearer Token**은 HTTP `Authorization` 헤더에 포함되어 전송되는 인증 토큰입니다. 사용자는 JWT와 같은 토큰을 "Bearer" 타입으로 보내며, 서버는 이를 통해 사용자 인증을 수행합니다.
        - **통신 방식**: 클라이언트는 각 요청의 `Authorization` 헤더에 `Bearer {토큰}`을 포함하여 백엔드 서버에 전송하며, 서버는 이를 검증하여 요청이 유효한지 확인합니다.
- Context-API 🍠
    - 전역 상태 관리는 왜 해야할까요?
        
        여러 컴포넌트에서 동일한 데이터를 참조하거나 수정할 때, 데이터를 한곳에서 관리하여 **일관성**을 유지하고 **상태 전파를 쉽게** 하기 위해 전역 상태 관리가 필요합니다. 이를 통해 **코드 중복을 줄이고** 상태 변경 시 여러 컴포넌트에서 데이터를 쉽게 동기화할 수 있습니다.
        
    - Context API란 무엇일까요?
        - **Context API**는 React에서 전역적으로 데이터를 관리하고 제공하는 방법입니다. 데이터 공급자(Provider)와 데이터 소비자(Consumer)를 통해 컴포넌트 트리의 깊은 곳에 있는 컴포넌트에서도 손쉽게 상태나 함수를 전달할 수 있습니다.
        - 주로 **Theme 설정, 로그인 정보**와 같이 여러 컴포넌트에서 공통으로 필요로 하는 상태를 제공할 때 유용하게 사용됩니다.

<aside>
🍠

잘 이해가 되시지 않는다면, 아래 영상을 참고해도 좋습니다!

</aside>

https://www.youtube.com/watch?v=WQHuqL2S74o&t=877s

https://www.youtube.com/watch?v=WQHuqL2S74o&t=877s

# ✅ 실습

- [x]  기존 2주차 `React`로 제작한 **`ToDoList`**를, **`Context-API`**를 활용하여 **`리팩토링을 진행`**해주세요!
- 깃허브 주소
- 실행 영상

# 🔥 미션 1. 회원가입 / 로그인 API 연결

<aside>
💡

아래, BE 서버를 활용하여, 아래와 같은 화면을 구현해주세요.
https://github.com/dydals3440/UMC-7th-YONGCHA-BE

</aside>

https://github.com/dydals3440/UMC-7th-YONGCHA-BE

### 1. 회원가입

![스크린샷 2024-09-30 오전 12.17.05.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/78d333fa-aa22-492f-828f-335b3927525d/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.17.05.png)

- [ ]  **`회원가입 API`**를 잘 연결하였는가?
- [ ]  회원가입 후, `login 페이지`로 이동하였는가?

### 2. 로그인

![스크린샷 2024-09-30 오전 12.18.19.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/12e13eac-1a6d-4ea4-8688-970d2283b60f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.18.19.png)

- [ ]  **`로그인 API`**를 잘 연결하였는가?
- [ ]  로그인 후, `메인 페이지`로 이동하였는가?
- [ ]  **`AccessToken`**과, **`RefreshToken`**을 **`로컬스토리지에서 저장`**하였는가?

### 3. 로그인 후 메인 페이지 이동 시

![스크린샷 2024-09-30 오전 12.14.44.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/b095f639-230d-4bb4-9fc4-69cee14ada08/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.14.44.png)

- [ ]  **`Navbar`**의 로그인, 회원가입 버튼 대신, **`로그아웃 버튼`**을 보여주었는가?
- [ ]  **`유저 정보 불러오기 API`**를 호출하여, 로그인 한 유저 이메일 **`@ 기준 앞 부분(닉네임)`**을 Navbar에 잘 보여주었는가?

### 4. 로그아웃 시

![스크린샷 2024-09-30 오전 12.21.38.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/219d8a2b-3eac-4149-a144-c36676387d4f/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_12.21.38.png)

- [ ]  로그아웃 후, Navbar에 유저 정보가, 사라지며, **`로그인, 회원가입 버튼이 다시 생겼는가?`**
- [ ]  **`AccessToken`**과, **`RefreshToken`**을 **`로컬스토리지에서 제거`**하였는가?

### 5. 추가로 해보면 좋아요!

- [ ]  `refreshToken을 활용`**하여,** `토큰 재발급`**을 진행해보세요.**
    - [ ]  **`Axios Interceptor`**를 활용하여, **`refreshToken`**을 활용하여, **`accessToken`**을 **`재발급`** 받는 로직을 구글 검색을 통해, 직접 해결해보세요!
    - [ ]  **`refreshToken`**을 활용하여, 토큰 재발급을 진행하면, 어떤 부분에서 이점이 있는지 작성해주세요!
    - 어떤 장점이 있을까요?

### 🔥 미션 1. 제출

- 깃허브 주소
- 실행 영상

# 🔥 미션 2. QueryParameter 활용 검색 기능 구현

<aside>
💡

아래와 같은, 여러 조건에 대하여 활용해서 검색 기능을 구현해주세요.
단, **`Query-Parmeter`**를 효율적으로 활용해서, 구현해주세요!

</aside>

- [ ]  **`Styled-Components`**를 활용해주세요
- [ ]  기존에 만들었던, **`movie-card 컴포넌트`**를 재사용해주세요.

1. 영화 제목 검색어를 입력하지 않는 경우 (`/search` 경로에 처음 온 경우)
    
    ![스크린샷 2024-09-25 오후 8.39.03.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/b4deb1da-f975-4254-8e2c-629fead9ec2b/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.39.03.png)
    

1. 영화 제목 검색어를 입력한 경우
    
    ![스크린샷 2024-09-25 오후 8.40.23.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/53f552ef-5ecf-451f-95c3-6c0ce839ab3e/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.40.23.png)
    

1. 영화 검색어를 입력했으나, 해당 검색어의 영화 데이터가 존재하지 않는 경우.
    
    ![스크린샷 2024-09-25 오후 8.48.41.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/5f4401e5-85aa-4ea3-999f-35982279b4a6/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_8.48.41.png)
    

1. 로딩 중인 경우, 아래와 같은 **`Skeleton UI`**를 만들어주세요!

[화면 기록 2024-09-25 오후 9.49.33.mov](https://prod-files-secure.s3.us-west-2.amazonaws.com/f1912130-0409-4e90-a90f-6091ae253e73/acd1e244-c55b-48ea-b5dc-d3df7f22c7e8/%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8_2024-09-25_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_9.49.33.mov)

1. **`Debounce`**에 대한 키워드를 학습하셨나요?
    - [ ]  **`Debounce`** 가 무엇인지 작성해주세요~!
        - Debounce는 무엇인가요?
    - [ ]  Debounce를 검색 기능에 적용해주세요!
        - 실행 영상 첨부
        
- [ ]  혹시라도, 구현에 어려움을 느끼신 경우, 아래 영상을 참고해서, 미션을 수행해주세요.

https://www.youtube.com/watch?v=L3eGGsAyd_A

### 🔥 미션 2. 제출

- 깃허브 주소
- 실행 영상

# ⚡ 트러블 슈팅

---

<aside>
💡 실습하면서 생긴 문제들 또는 어려웠던 내용에 대해서, **이슈 - 문제 - 해결** 순서로 작성해주세요.

</aside>

- ⚡이슈 No.1 (예시, 서식만 복사하시고 지워주세요.)
    
    **`이슈`**
    
    👉 앱 실행 중에 노래 다음 버튼을 누르니까 앱이 종료되었다.
    
    **`문제`**
    
    👉 노래클래스의 데이터리스트의 Size를 넘어서 NullPointException이 발생하여 앱이 종료된 것이었다. 
    
    **`해결`**
    
    👉  노래 다음 버튼을 눌렀을 때 데이터리스트의 Size를 검사해 Size보다 넘어가려고 하면 다음으로 넘어가는 메서드를 실행시키지 않고, 첫 노래로 돌아가게끔 해결
    
    **`참고레퍼런스`**
    
    - 링크

# 📢 학습 후기

---

- 이번 주차 워크북을 해결해보면서 어땠는지 회고해봅시다.
- 핵심 키워드에 대해 완벽하게 이해했는지? 혹시 이해가 안 되는 부분은 뭐였는지?

<aside>
📢

</aside>

# 🤔 참고 자료

---

Copyright © 2024 Kim Yongmin (Matthew) All rights reserved.